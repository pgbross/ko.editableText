// ko-editableText 0.1.0 | (c) 2014 Philip Ross |  http://www.opensource.org/licenses/mit-license
!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("knockout"),require("jQuery")):"function"==typeof define&&define.amd?define(["knockout","jquery"],a):a(ko,jQuery)}(function(a,b){var c=(a.utils.unwrapObservable,'<span class="editable-input"><input type="text"></input><span><button data-bind="click:confirm">Ok</button><button data-bind="click:cancel">Cancel</button></span></span>');a.bindingHandlers.editableText={init:function(d,e,f,g,h){var i,j,k,l=b(d),m=e(),n=f(),o=n.editableTextOptions||{};if(!a.isWriteableObservable(m))throw"You must pass an observable or writeable computed";var p=a.unwrap(o.templateName),q={removeEditor:function(){},cancel:function(){m(k),q.confirm()},confirm:function(){i.hide(0,function(){l.show(),a.removeNode(j)})}};l.on("click.et",function(){k=a.unwrap(m),p?(i=b(o.wrapper||"<span/>"),j=i[0],a.applyBindingsToNode(j,{template:{name:p}},h.extend(q))):(i=b(c),j=i[0],a.applyBindingAccessorsToNode(b("input",i)[0],{value:e}),a.applyBindingsToDescendants(q,j)),l.hide(),i.insertAfter(l).show()})},update:function(b,c,d,e,f){a.bindingHandlers.text.update(b,c,d,e,f)}}});